# 1.2 Couchbase Server의 설치 및 개요

### Couchbase 설치

```bash
become root
[root@ Couchbase01 ec2-user] sudo -i
[root@ Couchbase01 ec2-user] yum install bzip2
[root@ Couchbase01 ec2-user] yum install python3

*note some amazon regions do not have these installed, others do. it willnot cause problems to installed if already installed

[root@ Couchbase01 ec2-user]  yum install wget
```



출력:

```
Last metadata expiration check: 0:06:55 ago on Tue 21 June 2021 09:47:25 PM UTC.
Dependencies resolved.
=================================================================================================
 Package              Arch                   Version                          Repository                                       Size
=================================================================================================
Installing:
 wget                 x86_64                 1.19.5-10.el8                 rhui-rhel-8-appstream-rhui-rpms                 735 k

Transaction Summary
=================================================================================================
Install  1 Package

Total download size: 735 k
Installed size: 2.9 M
Is this ok [y/N]: y
Downloading Packages:
wget-1.19.5-10.el8.x86_64.rpm                                                                    7.3 MB/s | 735 kB     00:00
-------------------------------------------------------------------------------------------------
Total                                                                                               660 kB/s | 735 kB     00:01
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :                                                                                                            1/1
  Installing       : wget-1.19.5-10.el8.x86_64                                                                               1/1
  Running scriptlet: wget-1.19.5-10.el8.x86_64                                                                               1/1
  Verifying        : wget-1.19.5-10.el8.x86_64                                                                               1/1

Installed:
  wget-1.19.5-10.el8.x86_64

Complete!
```



root 셸을 종료하고 다시 ec2-user로 전환하세요.

```shell
[root@ Couchbase01~]$ exit
```

```bash
[ec2-user@ Couchbase01~]$ sudo wget http://packages.couchbase.com/releases/7.1.0/couchbase-server-enterprise-7.1.0-rhel8.x86_64.rpm
```

```
--2020-01-21 21:57:23--  http://packages.couchbase.com/releases/7.1.0/couchbase-server-enterprise-7.1.0-rhel8.x86_64.rpm
Resolving packages.couchbase.com (packages.couchbase.com)... 13.224.29.29, 13.224.29.70, 13.224.29.116, ...
Connecting to packages.couchbase.com (packages.couchbase.com)|13.224.29.29|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 394755748 (376M) [application/x-rpm]
Saving to: âcouchbase-server-enterprise-7.1.0-rhel8.x86_64.rpmâ

couchbase-server-enterprise-7.1.0 100%[==========================================================>] 376.47M  71.3MB/s    in 5.3s

2020-01-21 21:57:29 (71.4 MB/s) - âcouchbase-server-enterprise-7.1.0-rhel8.x86_64.rpmâ saved [394755748/394755748]
```

\
Couchbase 설치 (참고: 이 명령어는 완료까지 1\~2분 정도 걸릴 수 있습니다):

```bash
[ec2-user@ Couchbase01~]$ sudo yum install ./couchbase-server*.rpm

Updating Subscription Management repositories.
Unable to read consumer identity

This system is not registered to Red Hat Subscription Management. You can use subscription-manager to regist

Last metadata expiration check: 3:16:02 ago on Wed 07 Jul 2021 04:05:37 PM UTC.
Dependencies resolved.
============================================================================================================
 Package                           Architecture         Version                            Repository
============================================================================================================
Installing:
 couchbase-server                  x86_64               7.1.0-5303                         @commandline
Installing dependencies:
 ncurses-compat-libs               x86_64               6.1-7.20180224.el8                 rhel-8-baseos-rhu

Transaction Summary
============================================================================================================
Install  2 Packages

Total size: 456 M
Total download size: 331 k
Installed size: 1.1 G
Is this ok [y/N]: y
Downloading Packages:
ncurses-compat-libs-6.1-7.20180224.el8.x86_64.rpm                                                      3.8 M
------------------------------------------------------------------------------------------------------------
Total                                                                                                  3.1 M
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :
  Installing       : ncurses-compat-libs-6.1-7.20180224.el8.x86_64
  Running scriptlet: couchbase-server-7.1.0-5303.x86_64
Minimum RAM required  : 4 GB
System RAM configured : 7.58 GB

Minimum number of processors required : 4 cores
Number of processors on the system    : 2 cores


  Installing       : couchbase-server-7.1.0-5303.x86_64
  Running scriptlet: couchbase-server-7.1.0-5303.x86_64
Created symlink /etc/systemd/system/multi-user.target.wants/couchbase-server.service ? /usr/lib/systemd/syst.

You have successfully installed Couchbase Server.
Please browse to http://7couchbase02:8091/ to configure your server.
Refer to https://docs.couchbase.com for additional resources.

Please note that you have to update your firewall configuration to
allow external connections to a number of network ports for full
operation. Refer to the documentation for the current list:
https://docs.couchbase.com/server/7.0/install/install-ports.html

By using this software you agree to the End User License Agreement.
See /opt/couchbase/LICENSE.txt.


  Verifying        : ncurses-compat-libs-6.1-7.20180224.el8.x86_64
  Verifying        : couchbase-server-7.1.0-5303.x86_64
Installed products updated.

Installed:
  couchbase-server-7.1.0-5303.x86_64                           ncurses-compat-libs-6.1-7.20180224.el8.x86_64

Complete!
```



축하합니다! 위의 메시지가 보인다면 Couchbase가 성공적으로 설치된 것입니다.

다음 섹션에서는 클러스터를 구성하고 시작하겠습니다.



Couchbase가 실행 중인지 확인하려면 root 권한으로 아래 명령어를 실행하세요:

```shell
[root@couchbase01 ~]# systemctl status couchbase-server

<truncated output>
lines 6-43/43 (END)
Type in q (for quit)
Then exit

exit
```



{% hint style="info" %}
Couchbase를 중지/시작하는 명령어는 다음과 같습니다

(지금 실행할 필요는 없으며, 추후 참고용입니다):\


```
[root@couchbase01 ~]# Starting couchbase-server
systemctl start couchbase-server

[root@couchbase01 ~]# Stopping couchbase-server
systemctl stop couchbase-server

[root@couchbase01 ~]# Obtaining system status
systemctl status couchbase-server
```
{% endhint %}



